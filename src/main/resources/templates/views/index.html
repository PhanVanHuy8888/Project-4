<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link rel="stylesheet" type="text/css" href="/chocolate/css/bootstrap.css"/>
    <!--slick slider stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick-theme.min.css"/>

    <!-- fonts style -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,600,700&display=swap" rel="stylesheet"/>
    <!-- slick slider -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
            rel="stylesheet"
    />

    <link rel="stylesheet" href="/chocolate/css/slick-theme.css"/>
    <!-- font awesome style -->
    <link href="/chocolate/css/font-awesome.min.css" rel="stylesheet"/>
    <!-- Custom styles for this template -->
    <link href="/chocolate/css/style.css" rel="stylesheet"/>
    <!-- responsive style -->
    <link href="/chocolate/css/responsive.css" rel="stylesheet"/>
</head>
<body>
<div class="main_body_content">

    <div class="hero_area">
        <div th:include="static/header :: header"></div>
        <section class="slider_section ">
            <div id="customCarousel1" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="detail_box">
                                        <h1>
                                            Chocolate <br>
                                            <span>
                          Yummy
                        </span>
                                        </h1>
                                        <a href="#">
                        <span>
                          Read More
                        </span>
                                            <img src="images/white-arrow.png" alt="">
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-4 ml-auto">
                                    <div class="img-box">
                                        <img src="images/slider-img.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item ">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="detail_box">
                                        <h1>
                                            Chocolate <br>
                                            <span>
                          Yummy
                        </span>
                                        </h1>
                                        <a href="#">
                        <span>
                          Read More
                        </span>
                                            <img src="images/white-arrow.png" alt="">
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-4 ml-auto">
                                    <div class="img-box">
                                        <img src="images/slider-img.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item ">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="detail_box">
                                        <h1>
                                            Chocolate <br>
                                            <span>
                          Yummy
                        </span>
                                        </h1>
                                        <a href="#">
                        <span>
                          Read More
                        </span>
                                            <img src="images/white-arrow.png" alt="">
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-4 ml-auto">
                                    <div class="img-box">
                                        <img src="images/slider-img.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel_btn-box">
                <a class="carousel-control-prev" href="#customCarousel1" role="button" data-slide="prev">
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#customCarousel1" role="button" data-slide="next">
                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </section>
        <!-- end slider section -->
    </div>

    <!-- about section -->

    <section class="about_section layout_padding ">
        <div class="container  ">
            <div class="row">
                <div class="col-md-6">
                    <div class="detail-box">
                        <div class="heading_container">
                            <h2>
                                About Our Company
                            </h2>
                        </div>
                        <p>
                            Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to
                            using 'Content here, content here', making it look like readable English. Many desktop
                            publishing packages and web pagend web page editors now use Lorem Ipsum as their default
                            model text, </p>
                        <a href="#">
                <span>
                  Read More
                </span>
                            <img src="images/color-arrow.png" alt="">
                        </a>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="img-box">
                        <img src="images/about-img.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- end about section -->

    <!-- chocolate section -->

    <section style="background-color: #eee;">
        <div class="text-center container py-5">
            <h4 class="mt-4 mb-5"><strong>Các sản phẩm</strong></h4>
            <div class="row" id="productContainer">

            </div>
        </div>
    </section>

    <!-- end chocolate section -->

    <!-- offer section -->

    <section class="offer_section layout_padding">
        <div class="container">
            <div class="box">
                <div class="detail-box">
                    <h2>
                        Offers on chocolates
                    </h2>
                    <h3>
                        Get 5% Offer <br>
                        any Chocolate items
                    </h3>
                    <a href="">
                        Buy Now
                    </a>
                </div>
                <div class="img-box">
                    <img src="images/offer-img.png" alt="">
                </div>
            </div>
            <div class="btn-box">
                <a href="">
            <span>
              See More
            </span>
                    <img src="images/color-arrow.png" alt="">
                </a>
            </div>
        </div>
    </section>

    <!-- end offer section -->

    <!-- client section -->

    <section class="client_section mb-4">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-4 ml-auto">
                    <div class="img-box sub_img-box">
                        <img src="images/client-chocolate.png" alt="">
                    </div>
                </div>
                <div class="col-lg-6 px-0">
                    <div class="client_container">
                        <div class="heading_container">
                            <h2>
                                Testimonial
                            </h2>
                        </div>
                        <div id="customCarousel2" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <div class="box">
                                        <div class="img-box">
                                            <img src="images/client-img.jpg" alt="">
                                        </div>
                                        <div class="detail-box">
                                            <h4>
                                                Gero Miliya
                                            </h4>
                                            <p>
                                                Ở nhiều quốc gia trên thế giới, socola là thông điệp cao quý hướng đến
                                                tinh thần và sức khoẻ, sự chân trọng cùng những lời chúc tốt đẹp. Do đó,
                                                nếu bạn nhận được hộp socola vào một ngày đẹp trời nào đó, chắc chắn
                                                rằng, một ai đó đang muốn thể hiện sự quan tâm, chăm sóc dành cho
                                                bạn.</p>
                                            <i class="fa fa-quote-left" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="box">
                                        <div class="img-box">
                                            <img src="images/client-img.jpg" alt="">
                                        </div>
                                        <div class="detail-box">
                                            <h4>
                                                Gero Miliya
                                            </h4>
                                            <p>
                                                Theo kết quả phân tích của các nhà khoa học, trong socola có
                                                thành phần giúp điều chỉnh cảm xúc của con người, là tác nhân
                                                tạo ra niềm vui. Chính vì vậy, người ta dành tặng cho nhau
                                                những thanh socola ngọt lịm như một thông điệp của sự hạnh phúc
                                                mà họ nhận được từ bạn và muốn cùng bạn vun đắp.</p>
                                            <i class="fa fa-quote-left" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="box">
                                        <div class="img-box">
                                            <img src="images/client-img.jpg" alt="">
                                        </div>
                                        <div class="detail-box">
                                            <h4>
                                                Gero Miliya
                                            </h4>
                                            <p>
                                                Nghiên cứu của các nhà khoa học cho thấy, trong socola có chứa
                                                một lượng lớn các chất flavonoide – chất chống oxy hoá cùng
                                                các khoáng chất quan trọng như: Kẽm, mangan, đồng. Do đó, khi sử
                                                dụng socola thường xuyên, chúng sẽ làm tăng khả năng vô hiệu hoá
                                                hoặc trung hoà các gốc tự do (chất oxy hoá), từ đó bảo vệ
                                                tốt hơn cho sức khoẻ của con người.</p>
                                            <i class="fa fa-quote-left" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel_btn-box">
                                <a class="carousel-control-prev" href="#customCarousel2" role="button"
                                   data-slide="prev">
                                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#customCarousel2" role="button"
                                   data-slide="next">
                                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- end client section -->

    <!-- info section -->
    <div th:include="static/footer :: footer"></div>

    <!-- end info_section -->

</div>

<script src="/chocolate/js/jquery-3.4.1.min.js"></script>
<!-- bootstrap js -->
<script src="/chocolate/js/bootstrap.js"></script>
<!-- slick slider -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.js"></script>
<!-- custom js -->
<script src="/chocolate/js/custom.js"></script>
<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap"></script>
<!-- End Google Map -->
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.umd.min.js"
></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetchProducts();
    });

    async function fetchProducts() {
        try {
            const response = await fetch('/chocolate/product/list');
            const products = await response.json();
            const productContainer = document.getElementById('productContainer');

            products.forEach((product) => {
                const productCard = document.createElement('div');
                productCard.classList.add('col-lg-4', 'col-md-12', 'mb-4');

                // Định dạng giá bằng JavaScript
                const formattedPrice = new Intl.NumberFormat('vi-VN', {
                    style: 'currency',
                    currency: 'VND'
                }).format(product.price);

                productCard.innerHTML = `
                    <div class="card" onclick="viewProduct('${product.id}')">
                        <div class="bg-image hover-zoom ripple ripple-surface ripple-surface-light" data-mdb-ripple-color="light">
                            <img class="w-100" src="/chocolate/img/${product.image}" alt="${product.name}">

                        </div>
                        <div class="card-body">
                            <a href="#" class="text-reset">
                                <h5 class="card-title mb-3">${product.name}</h5>
                            </a>
                            <a href="#" class="text-reset">
                                <p>${product.categoryName}</p>
                            </a>
                            <h6 class="mb-3">
                                <span class="text-black rounded-pill py-2 px-3 font-weight-bold">
                                    ${formattedPrice}
                                </span>
                            </h6>
                        </div>
                    </div>
                `;

                productContainer.appendChild(productCard);
            });
        } catch (error) {
            console.error('Error fetching products:', error);
        }
    }


    async function viewProduct(id) {
        window.location.href = `/chocolate/viewProduct?id=${id}`;
    }

</script>
</body>
</html>
